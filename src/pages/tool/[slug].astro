---
import '../../styles/global.css';
import tools from '../../data/tools.js';
import slugify from '../../utils/slugify.js';
import SEO from '../../components/SEO.astro';
import Layout from '../../components/Layout.astro';

const { slug } = Astro.params;
const tool = tools.find(t => slugify(t.name) === slug);
if (!tool) {
  throw new Error(`Tool "${slug}" not found`);
}

const schemaData = {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": tool.name,
  "description": tool.description,
  "url": tool.url,
  "applicationCategory": "Productivity"
};

const seoProps = {
  title: `${tool.name} - AI Tool | Toolaroo`,
  description: tool.description,
  type: "article",
  schema: schemaData
};
---

<Layout title={tool.name} description={tool.description} seoProps={seoProps}>
  <section class="py-20 sm:py-32 pb-3 border-b border-slate-200">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-slate-900 mb-6 leading-tight">
        {tool.name} <span class="bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">AI Tool</span>
      </h1>
      <p class="text-lg sm:text-xl text-slate-600 mb-6">{tool.description}</p>
      <div class="flex flex-wrap gap-3 justify-center">
        <span class="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg font-medium capitalize">{tool.category}</span>
        {tool.featured && (
          <span class="px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg font-medium">⭐ Featured</span>
        )}
      </div>
    </div>
  </section>

  <section class="py-8 sm:py-12">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
        <div class="bg-white p-8 rounded-xl shadow-md border border-slate-200">
          <h3 class="text-sm font-semibold text-slate-600 uppercase mb-2">Rank</h3>
          <p class="text-3xl font-bold text-slate-900">#{tool.rank || 'N/A'}</p>
        </div>
        <div class="bg-white p-8 rounded-xl shadow-md border border-slate-200">
          <h3 class="text-sm font-semibold text-slate-600 uppercase mb-2">Status</h3>
          <p class="text-xl font-bold text-slate-900">{tool.featured ? '⭐ Featured' : 'Listed'}</p>
        </div>
        <div class="bg-white p-8 rounded-xl shadow-md border border-slate-200">
          <h3 class="text-sm font-semibold text-slate-600 uppercase mb-2">Visit</h3>
          <p class="text-xl font-bold text-slate-900">External Link</p>
        </div>
      </div>

      <div class="flex flex-col sm:flex-row gap-4">
        <a
          href={tool.url}
          target="_blank"
          rel="noopener noreferrer"
          class="flex-1 text-center px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold shadow-lg hover:shadow-xl"
        >
          Open Tool →
        </a>
        <a
          href={`/category/${slugify(tool.category)}`}
          class="flex-1 text-center px-8 py-4 bg-slate-200 text-slate-900 rounded-lg hover:bg-slate-300 transition-colors font-semibold"
        >
          More {tool.category} Tools
        </a>
      </div>
    </div>
  </section>
</Layout>
